CREATE TABLE [dbo].[Groups] (
    [Id] [int] NOT NULL IDENTITY,
    [Name] [nvarchar](max),
    CONSTRAINT [PK_dbo.Groups] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[UsersGroups] (
    [Id] [int] NOT NULL IDENTITY,
    [UserId] [int] NOT NULL,
    [GroupId] [int] NOT NULL,
    [EnteredDate] [datetime] NOT NULL,
    [IsActiveMember] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.UsersGroups] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_UserId] ON [dbo].[UsersGroups]([UserId])
CREATE INDEX [IX_GroupId] ON [dbo].[UsersGroups]([GroupId])
CREATE TABLE [dbo].[UserInGroupHistories] (
    [Id] [int] NOT NULL IDENTITY,
    [RoleName] [nvarchar](max),
    [UserGroupsRecordId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.UserInGroupHistories] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_UserGroupsRecordId] ON [dbo].[UserInGroupHistories]([UserGroupsRecordId])
CREATE TABLE [dbo].[Users] (
    [Id] [int] NOT NULL IDENTITY,
    [Name] [nvarchar](max),
    CONSTRAINT [PK_dbo.Users] PRIMARY KEY ([Id])
)
ALTER TABLE [dbo].[UsersGroups] ADD CONSTRAINT [FK_dbo.UsersGroups_dbo.Groups_GroupId] FOREIGN KEY ([GroupId]) REFERENCES [dbo].[Groups] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[UsersGroups] ADD CONSTRAINT [FK_dbo.UsersGroups_dbo.Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[Users] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[UserInGroupHistories] ADD CONSTRAINT [FK_dbo.UserInGroupHistories_dbo.UsersGroups_UserGroupsRecordId] FOREIGN KEY ([UserGroupsRecordId]) REFERENCES [dbo].[UsersGroups] ([Id]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201801231156318_Test', N'ClassLibrary.Migrations.Configuration',  0x1F8B0800000000000400ED5B5F6FDB36107F1FB0EF20E8691B522B495FB6C06E91264D672C898B382DF6563012ED10A3288DA4021BC33ED91EF691F61576D43F8B946849B6E36459316070A4BBE3F1EEC7FBC353FFF9EBEFE1DB45489D07CC0589D8C83D1A1CBA0E667E1410361FB9899CBDFAD17DFBE6DB6F86EF8370E17C2EE85E2B3AE06462E4DE4B199F789EF0EF7188C420243E8F443493033F0A3D1444DEF1E1E14FDED1918741840BB21C6778933049429CFE017F9E45CCC7B14C10BD8A024C45FE1CDE4C53A9CE350AB188918F47EE1945425C923B8EF8D2754E2941A0C314D399EB20C62289246878F249E0A9E4119B4F637880E8ED32C640374354E05CF3931579D74D1C1EAB4D782BC642949F0819853D051EBDCEADE299EC1BD9D62DAD06767B0FF6954BB5EBD47623F7038F92D875CC954ECE285754BA5D0729F581537D76507A1F40A2FE83D7099509C7238613C9113D703E267794F8BFE0E56DF41B662396505AD50AF48277DA0378F4914731E672798367B9AEE3C0753C9DCF33194BB60A4FB6913193AF8F5DE71A16477714974EAF6C7A2A238E3F6086399238F888A4C49C291938355B6D75632DF5FF623540191C15D7B9428B4BCCE6F27EE4C24FD7B9200B1C144F720D3E3102270B98244F706D916BF440E6A97EC67280652E26B3DC833798A644E29EC419F0072941FA5A7CC9A92E7814DE44B4E0AEBEFC728BF81C4BD84064A3984609F70D0D87DE0A536B915611D7196F159EAFA8B3ACA56CD4BEDE7A19A989B715021EC71C07E7B08B4290FA7D4BD4A9E8296B2C4E7D491EF0150EEF302FC4BD8B009888B54BB39E999D1D96E228D80F4B719CBAAAA6E4FC4CE058A8FCD5A2A046DBAC668564ADB255BABE2A2B39ADBA6644CD4AAADF6BB54B099AD4EA1576C62C15575AAC47F4D159BF0621CB5ACA738F93FE1A209761E306FB110F7A07ADF5E9B42A7AD7A7705D7E6D3AAD1BC3BD17C0BF42DAB2D69EABB90C0893D96E62EA3AAC6941B70BC84E85887C92EA533F2B79B2D477F99E054E6BE6CC2C6B6C0D6C0C782331200C3419B93FD42CB84E76B9ED95EC3C97EB528F5C139F13768E2996D85175876AD4CE90F051507720D828D09F00A4A1EE61AA9D848655C021214CD6F14F984F6244DB7437183B1E1DA558B984F9E61CC79829D4B7F9A4CBDA65A95857A05CC7B0589B81865E0561DD81570DBF5D20D258117502E14EE1D2AE5C038A9BAA98B683B2352E1B0CB667743658A58B064D45C293C3358DD95DA0A017C53B8D927A6ED0453FEF1859D57CCF20ACFAA32BFAF684B82C5F038F040ECC73054E63E5C494F8FC9D7A8917B2A126043DF3B250E4C58A0921257C8AA556A1B8CEAA48D0536C0D813A7B6AD23C863549D1E0DD475619101B459A51B38B648BA81A73C52B8604FD22A14267BD6D30C1D2A5842A95AF59B786BD2E5553459CC50F9EBEE39ED6D0FAA5F536B1E6F65ED97D6BFB3465659B501BC2B6B35986BBF5C6AA67966EB9656BF368E9C494D6C31045E35106B2D5A0C7CB263DC544C8B38C848657288EA145AB8C88F227CE349F0FBD9AF61F9F84990CCF170D539452DB7225F03F9A63E32D2C0D9A5E102EE43992E80EA926F12C086B648D61DB12AD8A25B5C85C775A11C40A72F53B63A98F751A725BCE7601BB0A556E4C3B6A334AD4F9D2F91CA2883774EF67114D4266CFD176EEAC1FAFF2674FEA12869EA1782D11D72C53AB5F743B77F2827E86367646350FF677C95AEEC7714C51EF5425D86A20BB94B2AFAC8AB1369B7639DA14A22A4B7BD15D9E3989D0EC64BC7B9E50B4E7D11E8834CAA8CD80D926E471F0B9BA9BAECA583DED8774B3AF3451DFD6773E2D26B603C1866EFF9F65885A35639294AB97558D51BD0CF34AA2C3572F66699191B80E98E68104AAAC982E85C4E140110CA6BFD3334A60BF2B822BC4C80C0B995DE6BBC78747C7C6E733CFE753164F88803654621DBE671943DFBD18B97F387FEE7F564194BD5BA7113D27E4D5F1047B40DCBF47FCBB102DBEAF4AAA8F2076F4B9C68B33A7FE1545BA847DD38AE5C419FFFA25E33A70261C4ED2897308E6D8F2D38BAE2BE76C5B2DDDF0C14600BFE5EE3ED8B823B245D26EE7F82F0E96E65CBDC7496FC678F3ECBC0FDE75093D00B8ED0CFBC53977C7217C9B316D9E36F73A376DBC53DA7CE2B1D188C176F3F1980385973D667D063355334D3CF11C755FF06A6DD15FCAA074BFA3CBE710A62CCDF79347A9271F75D6AFD62D77217A7B681B6166DD3394C1771178384BC07D4692DD869B4DABF49D7E9A41ACD3ECD3B6B0464770370DAC4352EBF69E687EAAF9BC32B7E838E5AA4FB6FE73C3D1AE5B68CDA4EBEF739FE5E4B3A6F41EFDDE63AE59BFF1835859F9D77010AA0599AF44A87F1BC7B0AF45C99266CC665111AC0D8D0A12A315B9C21241EF8F4EB92433E44B78ED6321D28F5E3F239AA8DB0268EC83319B24324E246C191A7DAAF95C05FD75EBA7C35B5DE7E1244EBF72DDC516404DA2AE2F26EC5D426850EA7DD1D0895A44A86C92F777CA9752F579F36529E93A621D05E5E62B93E02D0E630AC2C4844DD103DE443740E0259E237F595CDCDA85B43B4237FBF09CA03947A1C865ACF8E14FC070102EDEFC0BF1624802143A0000 , N'6.2.0-61023')

